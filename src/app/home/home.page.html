<ion-header>
  <ion-toolbar>
    <ion-buttons slot="end" *ngIf="connected">
      <ion-button (click)="logout()">
        <ion-icon name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>AuthMessage</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="bg">
  <div *ngIf="!connected">
    <div class="logo">
      <ion-icon color="dark" name="planet-outline"></ion-icon>
      <!-- <ion-icon color="light" name="person-outline"></ion-icon> -->
      <!-- <ion-icon color="light" name="sunny"></ion-icon> -->
      <!-- <ion-icon color="light" name="cloudy-night"></ion-icon> -->
      <!-- <img src="../../assets/logo.png"> -->
    </div>

    <ion-item>
      <ion-label color="light" position="floating">Email </ion-label>
      <ion-input
        color="light"
        type="email"
        [(ngModel)]="dataUser.email"
      ></ion-input>
    </ion-item>

    <ion-item>
      <ion-label color="light" position="floating">Mot de passe </ion-label>
      <ion-input
        color="light"
        [type]="passwordType"
        [(ngModel)]="dataUser.password"
      ></ion-input>
      <ion-icon
        slot="end"
        color="light"
        [name]="passwordIcon"
        class="passwordIcon"
        (click)="hideShowPassword()"
      ></ion-icon>
    </ion-item>
    <br />
    <ion-button
      color="light"
      expand="block"
      shape="round"
      fill="outline"
      (click)="login()"
    >
      Connexion
    </ion-button>
    <br />
    <ion-button
      color="tertiary"
      expand="block"
      shape="round"
      (click)="signUp()"
    >
      Inscription
    </ion-button>
  </div>

  <div class="stream" *ngIf="connected">
    <ion-item lines="none" *ngFor="let message of messages">
      <ion-badge
        text-wrap
        slot="start"
        color="light"
        *ngIf="message.userId != userId"
        >{{ message.text }}</ion-badge
      >
      <ion-badge
        text-wrap
        slot="end"
        color="primary"
        *ngIf="message.userId == userId"
        >{{ message.text }}</ion-badge
      >
    </ion-item>
  </div>
  <!-- <div *ngIf="connected">
    <h1>Vous êtes bien connecté !</h1>
    <ion-item>
      <ion-label>
        <p>Identifiant</p>
        <h2><b>{{userId}}</b></h2>
      </ion-label>
    </ion-item>
    <ion-item>
      <ion-label>
        <p>Méthode de connxion</p>
        <h2><b> Email & {{method}}</b></h2>
      </ion-label>
    </ion-item>
    <ion-item>
      <ion-label>
        <p>Adresse email</p>
        <h2><b>{{email}}</b></h2>
      </ion-label>
    </ion-item>
  </div> -->
</ion-content>
<ion-footer *ngIf="connected">
  <ion-grid>
    <ion-row>
      <ion-col size="10" class="input-col">
        <ion-input
          [(ngModel)]="messageText"
          autocomplete="true"
          spellcheck="true"
          type="text"
          placeholder="Entrez votre message"
          name="message"
        ></ion-input>
      </ion-col>
      <ion-col size="2" class="send-col">
        <ion-button shape="full" (click)="sendMessage()">
          <ion-icon name="paper-plane"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-footer>
